$(document).ready(function(){var a=$('form[data-rps-mailchimp]');a.on('clear',function(){$(this).find('small.error').remove(),$(this).find('.error').removeClass('error')}),a.on('error',function(b,c){var d=$('<small class="error"></small>');d.text(c),$(this).append(d)}),a.on('success',function(){var b=$.trim($(this).data('success-message'));b||(b='Thank you for signing up.'),$(this).slideUp(500,function(){$(this).empty(),$(this).append('<p>'+b+'</p>'),$(this).slideDown(500)})}),a.on('submit',function(b){b.preventDefault();var c=$(this);c.trigger('clear'),$.ajax({url:$(this).prop('action'),type:'POST',dataType:'json',data:$(this).serialize(),success:function(d){d.status&&c.trigger('success')},error:function(d){try{var f=JSON.parse(d.responseText);f.hasOwnProperty('fields')?$.each(f.fields,function(g,h){c.find('[name="'+h.field+'"]').after('<small class="error">'+h.message+'</small>')}):f.hasOwnProperty('message')?c.trigger('error',f.message):c.trigger('error','An unknown error has occurred, please try again in a moment.')}catch(g){c.trigger('error','An unknown error has occurred, please try again in a moment.')}}})})});